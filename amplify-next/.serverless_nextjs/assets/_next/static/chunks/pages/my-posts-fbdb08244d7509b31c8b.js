_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{E1HW:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i}));var r="\n  query GetPost($id: ID!) {\n    getPost(id: $id) {\n      id\n      title\n      content\n      username\n      coverImage\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  query ListPosts(\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listPosts(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        title\n        content\n        username\n        coverImage\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",i="\n  query PostsByUsername(\n    $username: String\n    $sortDirection: ModelSortDirection\n    $filter: ModelPostFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    postsByUsername(\n      username: $username\n      sortDirection: $sortDirection\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        id\n        title\n        content\n        username\n        coverImage\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"},YFqc:function(e,n,t){e.exports=t("cTJO")},cTJO:function(e,n,t){"use strict";var r=t("J4zp"),o=t("284h");n.__esModule=!0,n.default=void 0;var i=o(t("q1tI")),c=t("elyg"),s=t("nOHt"),a=t("vNVm"),u={};function l(e,n,t,r){if(e&&(0,c.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[n+"%"+t+(o?"%"+o:"")]=!0}}var d=function(e){var n=!1!==e.prefetch,t=(0,s.useRouter)(),o=t&&t.pathname||"/",d=i.default.useMemo((function(){var n=(0,c.resolveHref)(o,e.href,!0),t=r(n,2),i=t[0],s=t[1];return{href:i,as:e.as?(0,c.resolveHref)(o,e.as):s||i}}),[o,e.href,e.as]),f=d.href,p=d.as,m=e.children,v=e.replace,h=e.shallow,b=e.scroll,x=e.locale;"string"===typeof m&&(m=i.default.createElement("a",null,m));var y=i.Children.only(m),g=y&&"object"===typeof y&&y.ref,I=(0,a.useIntersection)({rootMargin:"200px"}),$=r(I,2),j=$[0],P=$[1],E=i.default.useCallback((function(e){j(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,j]);(0,i.useEffect)((function(){var e=P&&n&&(0,c.isLocalURL)(f),r="undefined"!==typeof x?x:t&&t.locale,o=u[f+"%"+p+(r?"%"+r:"")];e&&!o&&l(t,f,p,{locale:r})}),[p,f,P,x,n,t]);var w={ref:E,onClick:function(e){y.props&&"function"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,i,s,a){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(t))&&(e.preventDefault(),null==s&&(s=r.indexOf("#")<0),n[o?"replace":"push"](t,r,{shallow:i,locale:a,scroll:s}).then((function(e){e&&s&&document.body.focus()})))}(e,t,f,p,v,h,b,x)},onMouseEnter:function(e){(0,c.isLocalURL)(f)&&(y.props&&"function"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),l(t,f,p,{priority:!0}))}};if(e.passHref||"a"===y.type&&!("href"in y.props)){var O="undefined"!==typeof x?x:t&&t.locale,k=(0,c.getDomainLocale)(p,O,t&&t.locales,t&&t.domainLocales);w.href=k||(0,c.addBasePath)((0,c.addLocale)(p,O,t&&t.defaultLocale))}return i.default.cloneElement(y,w)};n.default=d},cze1:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return p}));var r=t("o0o1"),o=t.n(r),i=t("nKUr"),c=t("HaE+"),s=t("q1tI"),a=t("YFqc"),u=t.n(a),l=t("v4IS"),d=t("oDCQ"),f=t("E1HW");t("sIIE");function p(){var e=Object(s.useState)([]),n=e[0],t=e[1];function r(){return(r=Object(c.a)(o.a.mark((function e(){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.currentAuthenticatedUser();case 2:return n=e.sent,r=n.username,e.next=6,d.a.graphql({query:f.c,variables:{username:r}});case 6:i=e.sent,t(i.data.postsByUsername.items);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6 mb-2",children:"My Posts"}),n.map((function(e,n){return Object(i.jsxs)("div",{className:"border-b border-gray-300\tmt-8 pb-4",children:[Object(i.jsx)("h2",{className:"text-xl font-semibold",children:e.title}),Object(i.jsxs)("p",{className:"text-gray-500 mt-2 mb-2",children:["Author: ",e.username]}),Object(i.jsx)(u.a,{href:"/edit-post/".concat(e.id),children:Object(i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"Edit Post"})}),Object(i.jsx)(u.a,{href:"/posts/".concat(e.id),children:Object(i.jsx)("a",{className:"text-sm mr-4 text-blue-500",children:"View Post"})}),Object(i.jsx)("button",{className:"text-sm mr-4 text-red-500",onClick:function(){return deletePost(e.id)},children:"Delete Post"})]},n)}))]})}},sIIE:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var r="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      coverImage\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      coverImage\n      createdAt\n      updatedAt\n    }\n  }\n"},vNVm:function(e,n,t){"use strict";var r=t("J4zp"),o=t("TqRt");n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!s,o=(0,i.useRef)(),u=(0,i.useState)(!1),l=r(u,2),d=l[0],f=l[1],p=(0,i.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),t||d||e&&e.tagName&&(o.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=a.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return a.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,i=r.observer,c=r.elements;return c.set(e,n),i.observe(e),function(){c.delete(e),i.unobserve(e),0===c.size&&(i.disconnect(),a.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:n}))}),[t,n,d]);return(0,i.useEffect)((function(){s||d||(0,c.default)((function(){return f(!0)}))}),[d]),[p,d]};var i=t("q1tI"),c=o(t("0G5g")),s="undefined"!==typeof IntersectionObserver;var a=new Map},zsD6:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-posts",function(){return t("cze1")}])}},[["zsD6",1,2,4,0,5,6,7,8,9]]]);