_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"1xXU":function(t,e,n){"use strict";n.r(e);var r,o=n("o0o1"),a=n.n(o),c=n("nKUr"),u=n("HaE+"),i=n("rePB"),s=n("BHzR"),p=n("q1tI"),l=n("l1VB"),f=n("oDCQ"),b=new Uint8Array(16);function d(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(b)}var y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var O=function(t){return"string"===typeof t&&y.test(t)},g=[],j=0;j<256;++j)g.push((j+256).toString(16).substr(1));var m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(g[t[e+0]]+g[t[e+1]]+g[t[e+2]]+g[t[e+3]]+"-"+g[t[e+4]]+g[t[e+5]]+"-"+g[t[e+6]]+g[t[e+7]]+"-"+g[t[e+8]]+g[t[e+9]]+"-"+g[t[e+10]]+g[t[e+11]]+g[t[e+12]]+g[t[e+13]]+g[t[e+14]]+g[t[e+15]]).toLowerCase();if(!O(n))throw TypeError("Stringified UUID is invalid");return n};var h=function(t,e,n){var r=(t=t||{}).random||(t.rng||d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return m(r)},w=n("20a2"),v=n("k20a"),x=n.n(v),_=(n("FQ0y"),n("sIIE"));function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N={title:"",content:""};e.default=Object(s.a)((function(){var t=Object(p.useState)(N),e=t[0],n=t[1],r=e.title,o=e.content,s=Object(w.useRouter)(),b=Object(p.useState)(null),d=b[0],y=b[1],O=Object(p.useRef)(null);function g(){return(g=Object(u.a)(a.a.mark((function t(){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&o){t.next=2;break}return t.abrupt("return");case 2:if(n=h(),e.id=n,!d){t.next=9;break}return c="".concat(d.name,"_").concat(h()),e.coverImage=c,t.next=9,l.a.put(c,d);case 9:return t.next=11,f.a.graphql({query:_.a,variables:{input:e},authMode:"AMAZON_COGNITO_USER_POOLS"});case 11:s.push("/posts/".concat(n));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return(j=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.current.click();case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6",children:"Create new post"}),Object(c.jsx)("input",{onChange:function(t){n((function(){return E(E({},e),{},Object(i.a)({},t.target.name,t.target.value))}))},name:"title",placeholder:"Title",value:e.title,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),d&&Object(c.jsx)("img",{src:URL.createObjectURL(d),className:"my-4"}),Object(c.jsx)(x.a,{value:e.content,onChange:function(t){return n(E(E({},e),{},{content:t}))}}),Object(c.jsx)("input",{type:"file",ref:O,className:"absolute w-0 h-0",onChange:function(t){var e=t.target.files[0];e&&y(e)}}),Object(c.jsx)("button",{className:"bg-purple-600 text-white font-semibold px-8 py-2 rounded-lg mr-2",onClick:function(){return j.apply(this,arguments)},children:"Upload Cover Image"}),Object(c.jsx)("button",{type:"button",className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return g.apply(this,arguments)},children:"Create Post"})]})}))},zddE:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return n("1xXU")}])}},[["zddE",1,2,3,4,12,0,5,6,7,8,9,11,10]]]);